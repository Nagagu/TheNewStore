(this["webpackJsonpnat-store"]=this["webpackJsonpnat-store"]||[]).push([[0],{23:function(t,e,c){},32:function(t,e,c){"use strict";c.r(e);var r=c(1),n=c(7),a=c.n(n),s=(c(23),c(2)),i=c(6),o=c(3),l="ADD_PRODUCT",j="REMOVE_PRODUCT",u="GET_TOTAL_PRICE",d=function(t){return function(e){console.log("adding to cart"),e({type:l,payload:Object(o.a)({},t)}),e(b())}},b=function(){return{type:u,payload:{}}},O=c(0),h=Object(s.b)((function(t){return{cartState:t.cartState}}),{addToCart:d,removeFromCart:function(t){return function(e){e({type:j,payload:Object(o.a)({},t)}),e(b())}}})((function(t){var e=t.item;return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"items",children:[Object(O.jsx)("img",{src:e.image}),Object(O.jsx)("div",{className:"item-title",children:e.title}),Object(O.jsxs)("div",{className:"buttons-container",children:[" ",Object(O.jsxs)("button",{onClick:function(){return function(e){console.log("removiendo"),t.removeFromCart(e)}(e)},children:[" ",Object(O.jsx)("i",{class:"fas fa-minus-circle"})]}),Object(O.jsx)("div",{className:"quantity",children:e.quantity}),Object(O.jsxs)("button",{onClick:function(){return function(e){console.log("hola"),t.addToCart(e)}(e)},children:[" ",Object(O.jsx)("i",{class:"fas fa-plus-circle"})," "]})]})]})})})),f=Object(s.b)((function(t){return{cartState:t.cartState}}))((function(t){console.log(t);var e=Object(r.useState)(!1),c=Object(i.a)(e,2),n=c[0],a=c[1],o=Object(s.c)((function(t){return t.cartState})).totalPrice;return Object(O.jsxs)("div",{children:[Object(O.jsxs)("div",{className:"cart-navbar",children:[Object(O.jsx)("button",{variant:"light",onClick:function(){a(!n)},children:Object(O.jsx)("i",{class:"fas fa-shopping-basket"})}),Object(O.jsx)("span",{children:t.cartState.cartTotalNumber})]}),n&&Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"cart-container",children:Object(O.jsxs)("div",{className:"minicart",children:[0===t.cartState.cartTotalNumber?Object(O.jsx)("h5",{children:" Your cart is empty"}):t.cartState.cartProducts.map((function(t){return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("div",{className:"item-list",children:Object(O.jsx)(h,{item:t},t.id)})})}))," ",Object(O.jsxs)("div",{className:"total-container",children:["Total: ",null===o||void 0===o?void 0:o.toFixed(2),"\u20ac"]}),Object(O.jsx)("button",{className:"checkout-btn",children:"Checkout"})]})})})]})})),x=Object(s.b)((function(t){return{cartState:t.cartState}}))((function(t){return console.log(t),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{class:"logo-container sticky",children:[Object(O.jsx)("div",{class:"logo",children:Object(O.jsx)("h1",{children:"The New Store"})}),Object(O.jsx)("nav",{class:"menu",children:Object(O.jsxs)("ul",{children:[Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"About"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:"Contact"})}),Object(O.jsx)("li",{children:Object(O.jsx)("a",{href:"#",children:Object(O.jsx)(f,{})})})]})})]})})})),m=c(14),v=c.n(m),p=c(16),g=Object(s.b)((function(t){return{cartState:t.cartState}}),{addToCart:d})((function(t){var e=t.item,c=(e.id,e.title),r=e.image,n=e.price;return Object(O.jsxs)("div",{className:"product",children:[Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("img",{src:r,alt:c})]}),Object(O.jsxs)("div",{className:"content-product",children:[" ",Object(O.jsx)("div",{className:"productTitle",children:c}),Object(O.jsxs)("div",{className:"priceProduct",children:[n," \u20ac"]}),Object(O.jsx)("button",{type:"",className:"addButton",onClick:function(){return t.addToCart(e)},children:"ADD"})]})]})})),y=function(t){console.log(t);var e=Object(r.useState)([]),c=Object(i.a)(e,2),n=c[0],a=c[1],s=Object(r.useState)(""),o=Object(i.a)(s,2),l=o[0],j=o[1];Object(r.useEffect)((function(){u()}),[]);var u=function(){var t=Object(p.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://fakestoreapi.com/products").then((function(t){return t.json()})).then((function(t){return a(t)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(O.jsxs)("div",{children:[Object(O.jsx)("div",{className:"hero"}),Object(O.jsxs)("div",{className:"search-container",children:[Object(O.jsxs)("div",{className:"input-search",children:[" ",Object(O.jsx)("input",{type:"text",id:"search-bar",placeholder:"What do you wish for today?",className:"form-control",onChange:function(t){j(t.target.value)}})]}),Object(O.jsxs)("div",{children:[" ",Object(O.jsx)("a",{href:"#",children:Object(O.jsx)("div",{className:"search-icon",children:Object(O.jsx)("i",{class:"fas fa-search"})})})]})]}),Object(O.jsx)("div",{className:"productList",children:n.filter((function(t){return t.title.toLowerCase().includes(l.toLowerCase())})).map((function(t){return Object(O.jsx)(g,{item:t},t.id)}))})]})},N=c(4),P=c(17),C=c(18),S=c(9),T={cartTotalNumber:0,cartProducts:[],totalPrice:0},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case l:var c=t.cartProducts.find((function(t){return t.id===e.payload.id}));null!=c&&c.quantity++;var r=null==c?[].concat(Object(S.a)(t.cartProducts),[Object(o.a)(Object(o.a)({},e.payload),{},{quantity:1})]):Object(S.a)(t.cartProducts);return{cartProducts:r,cartTotalNumber:r.length};case j:var n=t.cartProducts.find((function(t){return t.id===e.payload.id}));null!=n&&n.quantity--;var a=Object(S.a)(t.cartProducts.filter((function(t){return t.quantity>0})));return{cartProducts:a,cartTotalNumber:a.length};case u:if(null===t.cartProducts||0===t.cartProducts.length)return Object(o.a)({},t);var s=t.cartProducts.map((function(t){return t.price*t.quantity})).reduce((function(t,e){return t+e}));return Object(o.a)(Object(o.a)({},t),{},{totalPrice:s});default:return t}},w=Object(N.combineReducers)({cartState:k}),q=[C.a],D=Object(N.createStore)(w,Object(P.composeWithDevTools)(N.applyMiddleware.apply(void 0,q))),F=function(){return Object(O.jsx)("div",{className:"footer",children:Object(O.jsx)("i",{class:"far fa-copyright",children:"2021"})})};a.a.render(Object(O.jsxs)(s.a,{store:D,children:[Object(O.jsx)(x,{}),Object(O.jsx)(y,{}),Object(O.jsx)(F,{})]}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.64f1cbd5.chunk.js.map